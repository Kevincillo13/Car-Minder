<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración</title>
    <link rel="website icon" type="png" href="/assets/imagenes/iconos/RIN.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gabarito&display=swap" rel="stylesheet">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Gabarito&family=Poppins:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/styles.css"/> 
    <link rel="stylesheet" href="/assets/barra.css">
    <link rel="stylesheet" href="/assets/configuracion.css">
</head>
<body style="font-family: 'Poppins';">
    <div class="sidebar sidebar1"    >
        <div class="top top1">
            <div class="logo logo1">
                    <i class="bx bxs-car-mechanic">
                    </i>
                    <span>CarMinder</span>
            </div>
            <i class="bx bx-menu btnD" id="btn"></i>
        </div>
        <div class="user user1">
            <!--Se añade una imagen para mostrarse junto a la barra lateral-->
            <!--Se utiliza la clase w para dar un ancho maximo-->
            <img src="/assets/imagenes/kokomi.jpg" class="user-img  ">
            <div>
                <!--Aqui se mostrara el nombre del usuario y el usuario-->
                <p class="bold bold1"><%= user.nombre_u %></p>
            </div>
        </div>
        <!--Se crea una lista con distintos elementos. Iconos y texto que tendran funciones especificas para navegar por las distintas secciones-->
        <ul>
            <li>
                <a href="inicio">
                    <i class="bx bxs-car"></i>
                    <span class="nav-item">Inicio</span>
            </a>
            <span class="tooltip sidbox">Panel</span>
            </li>
            <li>
                <a href="Foro">
                    <i class="bx bx-notepad"></i>
                    <span class="nav-item">Foro</span>
            </a>
            <span class="tooltip sidbox">Foro</span>
            </li>
            <li>
                <a href="Configuracion">
                    <i class="bx bx-cog"></i>
                    <span class="nav-item">Configuracion</span>
            </a>
            <span class="tooltip sidbox">Configuracion</span>
            </li>
            <li>
                <a href="/cerrar-sesion">
                    <i class="bx bx-log-out"></i>
                    <span class="nav-item">Logout</span>
                </a>
            <span class="tooltip sidbox">Logout</span>
            </li>
        </ul>
    </div>

    <div  class="main-content ">
            <div class="titulo">
                <h1 class="">Configuración</h1>
                <h2>Cambia aspectos de tu cuenta</h2>
            </div>
            
            <div class="acbox1">
                <h1>
                    Cuenta
                </h1>
                <div class="cuenta">
                    <i class='bx bx-user-circle bx-lg cuentad'></i>
                    <div class="">
                        <h2>Nombre:</h2>
                        <h3><%= user.nombre_u %></h3>
                        <div class="buttondiv">
                            <button id="butnom" class="buttone">Modificar nombre</button>
                            <div id="nomcont" class="oculto">
                                <form id="updateNombreForm" action="/actualizar-nombre" method="POST">
                                    <input class="inp" type="text" id="nombre_u" name="nombre_u">
                                        <button class="sub" type="submit">Aceptar</button>
                                </form>
                            </div>
                        </div>                        
                        <h2>Correo electrónico:</h2>
                        <h3><%= user.correo_u %></h3>
                        <div class="buttondiv">
                            <button id="butema" class="buttone">Modificar correo</button>
                            <div id="corcont" class="oculto">
                                <form id="updateCorreoForm" action="/actualizar-correo" method="POST" >
                                    <input class="inp" type="text" id="correo_u" name="correo_u">
                                    <button class="sub" type="submit">Aceptar</button>
                                </form>
                            </div>
                        </div>
                        
                        <h2  style="visibility:hidden;">Télefono</h2>
                        <h3  style="visibility:hidden;">Aqui va el telefono</h3>
                        <button  style="visibility:hidden;" id="buttel" class="buttonc">Modificar télefono</button>
                        <div  style="visibility:hidden;" id="telcont" style="margin-bottom: 10px;" class="oculto">
                            <form>
                                <input class="inp" type="text" id="nombre_u" name="nombre_u">
                                <button class="sub" style="margin-bottom: 20px;" type="submit">Aceptar</button>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="acbox2 acbox2h">
                <div class="">
                    <h1>Eliminar cuenta</h1>
                    <h2>Puedes eliminar tu cuenta si ya no piensas utilizar nuestros servicios</h2>
                    <p>Al eliminar tu cuenta eres consiente de lo siguiente:</p>
                    <p>Pérdida de Datos:</p>
                    <h2>
                        Todos los datos asociados con tu cuenta como tus preferencias y configuraciones, serán eliminados permanentemente. 
                        No podremos recuperar esta información.
                    </h2>
                    <p>Acceso Denegado:</p>
                    <h2>No podrás acceder a tu cuenta ni a 
                        ninguna de las funcionalidades asociadas una vez que se haya eliminado.
                    </h2>
                    <div>
                        <div class="buttondiv">
                            <form id="eliminarCuentaForm" action="/eliminar-cuenta" method="POST" onsubmit="return confirm('¿Seguro que quieres eliminar tu cuenta?');">
                                <button type="submit" class="buttone">Eliminar cuenta</button>
                            </form>
                        </div>

                        <div id="delcont" class="oculto buttondiv">
                            <form id="eliminarCuentaForm" action="/eliminar-cuenta" method="POST">
                                <button class="buttone" type="submit">Aceptar</button>
                            </form>
                        </div>


                    </div>
                </div>
            </div>
    </div>
    
    <script>
        let btn = document.querySelector('#btn');
        let sidebar = document.querySelector('.sidebar');
        btn.onclick = function () {
            sidebar.classList.toggle('active');
        };
    
        document.getElementById('butnom').addEventListener('click', function () {
            var butnom = document.getElementById('nomcont');
            butnom.classList.toggle('mostrado');
        });
    
        document.getElementById('butema').addEventListener('click', function () {
            var butema = document.getElementById('corcont');
            butema.classList.toggle('mostrado');
        });
    
        document.getElementById('buttel').addEventListener('click', function () {
            var buttel = document.getElementById('telcont');
            buttel.classList.toggle('mostrado');
        });
    
        document.getElementById('delbut').addEventListener('click', function () {
            var delbut = document.getElementById('delcont');
            delbut.classList.toggle('mostrado');
        });

        function eliminarCuenta() {
        var delbut = document.getElementById('delcont');
        delbut.classList.toggle('mostrado');
        
    }

    </script>
</body>
</html>